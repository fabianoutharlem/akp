<div class="form-group form-group-default">
  <%= f.label :banner_title %>
  <%= f.text_field :banner_title, class: 'form-control', required: true %>
</div>

<div class="form-group form-group-default">
  <%= f.label :slug %>
  <%= f.text_field :slug, class: 'form-control' %>
</div>

<div class="form-group form-group-default">
  <%= f.label :banner_subtitle %>
  <%= f.text_field :banner_subtitle, class: 'form-control', required: true %>
</div>

<div class="form-group form-group-default">
  <%= f.label :banner_image %>
  <%= f.file_field :banner_image, class: 'form-control' %>
  <%= f.hidden_field :banner_image_cache %>
  <%= image_tag f.object.banner_image.try(:admin) if f.object.banner_image.present? %>
</div>

<div class="form-group form-group-default">
  <%= f.label :brand_id %>
  <%= f.collection_select :brand_id, Brand.all, :id, :name, {include_blank: false}, class: 'full-width', data: {'init-plugin' => 'select2'}, required: true %>
</div>

<% if f.object.brand %>
    <div class="form-group form-group-default">
      <%= f.label :model_id %>
      <%= f.collection_select :model_id, f.object.brand.models.order(name: :asc), :id, :name, {include_blank: true}, class: 'full-width model-select', required: false %>
    </div>
<% end %>

<div class="form-group form-group-default">
  <%= f.label :active %>
  <%= f.check_box :active, class: 'switchery' %>
</div>


<% content_for :footer do %>
    <script type="text/javascript" charset="utf-8">
        var elems = Array.prototype.slice.call(document.querySelectorAll('.switchery'));
        // Success color: #10CFBD
        elems.forEach(function (html) {
            var switchery = new Switchery(html, {color: '#10CFBD'});
        });
        $(document).ready(function() {
            // Avoid applying plugin to <select> with data-init-plugin="select2"

            // Only apply on elements that don't have data-init-plugin="select2"
            $(".model-select").select2({
                placeholder: "Select a model",
                allowClear: true
            });
        });
    </script>
<% end %>